<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IM客户端</title>

    <script type="text/javascript" src="assets/assets/js/websocket.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html,
        body {
            width: 100%;
            height: 100%;
        }

        .container {
            width: 100%;
            height: 100%;
        }
    </style>

</head>

<body>
    <!--连接服务器-->
    <script>
        var worker = new SharedWorker('assets/assets/js/websocket.js');
        worker.port.onmessage = function (e) {
            if (MESSAGE_ID.ErrCode == e.data.msg_id) {
                alert("错误码: " + e.data.payload.Code)
            }
        };
        // document.getElementById('btn').addEventListener('click', function (e) {
        //     // 点击按钮时，通过port发送消息到shared worker
        //     worker.port.postMessage('nihao' + Math.random());
        // });

    </script>
    <div class="container">
        <!--页面切换用的iframe-->
        <iframe id='home_iframe' src='login' frameborder="0" width='100%' height='100%' margin="0" padding="0"
            ;scrolling='no'>
        </iframe>
    </div>
</body>

</html>